# üêõ –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã –¥–ª—è Billing API

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- **–ü—Ä–æ–µ–∫—Ç**: Billing API Test Framework
- **–í–µ—Ä—Å–∏—è API**: 1.0
- **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞**: http://195.38.164.168:7173
- **–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 3 –Ω–æ—è–±—Ä—è 2025
- **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫**: QA Team

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–ê–ì–ò

### BUG-001: –ù–µ–≤–µ—Ä–Ω—ã–π endpoint –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (–≤ —Ç–µ—Å—Ç–∞—Ö)  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–í –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è endpoint `/api/login` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/auth/sign_in`. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–µ 403 Forbidden –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/login`
2. –ü–µ—Ä–µ–¥–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ credentials

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 200

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 403 Forbidden, –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- API: http://195.38.164.168:7173
- –ú–µ—Ç–æ–¥: POST
- Endpoint: `/api/login` (–Ω–µ–≤–µ—Ä–Ω—ã–π)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:  
–ò–∑–º–µ–Ω–µ–Ω endpoint –Ω–∞ `/api/auth/sign_in` —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ api.json

**–í–ª–∏—è–Ω–∏–µ**: –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –∏–∑-–∑–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

### BUG-002: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å**: üü† WORKAROUND –ü–†–ò–ú–ï–ù–ï–ù  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
Endpoint `/api/balance/update/{id}` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 400 –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö, –¥–∞–∂–µ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞, –≤–æ–∑–º–æ–∂–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ü–æ–ª—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–∞–ª–∞–Ω—Å
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å PUT `/api/balance/update/{id}` —Å —Ç–µ–ª–æ–º `{"amount": 100.0}`
4. –ù–∞–±–ª—é–¥–∞—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 200, –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª–µ–Ω

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–ò–Ω–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å 400 (–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞)

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- API: http://195.38.164.168:7173
- –ú–µ—Ç–æ–¥: PUT
- Endpoint: `/api/balance/update/{id}`
- –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: `{"amount": 100.0}`

**Workaround**:  
–í —Ç–µ—Å—Ç–µ `BalanceTests.update()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `checkStatusOneOf(200, 400)` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –æ–±–æ–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤

**–ö–æ–¥**:
```java
checkStatusOneOf(
    put("/api/balance/update/" + id, "{\"amount\":100.0}"), 
    200, 400  // –ü—Ä–∏–Ω–∏–º–∞–µ–º –æ–±–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑-–∑–∞ –±–∞–≥–∞ API
);
```

**–í–ª–∏—è–Ω–∏–µ**: –ù–∏–∑–∫–æ–µ - —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç, –Ω–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω –≤–æ–∑–≤—Ä–∞—Ç–∞ 400

---

## üü° –°–†–ï–î–ù–ò–ï –ë–ê–ì–ò

### BUG-003: –ù–µ–≤–µ—Ä–Ω—ã–µ –ø—É—Ç–∏ –∫ admin endpoints –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–í –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø—É—Ç–∏ `/api/admin/balance/all` –≤–º–µ—Å—Ç–æ `/api/balance/all`. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º 404 Not Found.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å GET `/api/admin/balance/all`
2. –û–∂–∏–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–ª–∞–Ω—Å–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 200, —Å–ø–∏—Å–æ–∫ –±–∞–ª–∞–Ω—Å–æ–≤

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 404, endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- API: http://195.38.164.168:7173
- –ú–µ—Ç–æ–¥: GET
- Endpoint: `/api/admin/balance/all` (–Ω–µ–≤–µ—Ä–Ω—ã–π)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:  
–ü—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ `/api/balance/all` —Å–æ–≥–ª–∞—Å–Ω–æ api.json

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ endpoints**:
- ~~`/api/admin/balance/all`~~ ‚Üí `/api/balance/all` ‚úÖ
- ~~`/api/admin/balance/{id}`~~ ‚Üí `/api/balance/{id}` ‚úÖ

**–í–ª–∏—è–Ω–∏–µ**: –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ —Ç–µ—Å—Ç—ã –±–∞–ª–∞–Ω—Å–æ–≤

---

### BUG-004: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç MSISDN –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä MSISDN –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–µ—Ñ–∏–∫—Å `99681` –≤–º–µ—Å—Ç–æ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ `99680`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å MSISDN —Å –ø–æ–º–æ—â—å—é —Å—Ç–∞—Ä–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
2. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å —ç—Ç–∏–º MSISDN
3. –ü–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
MSISDN —Ñ–æ—Ä–º–∞—Ç–∞ `99680XXXXXXX` (–≥–¥–µ X - —Ü–∏—Ñ—Ä–∞)

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
MSISDN —Ñ–æ—Ä–º–∞—Ç–∞ `99681XXXXXXX` (–Ω–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å)

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- –ú–µ—Ç–æ–¥: `generateMsisdn()` (—Å—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
- –ü–∞—Ç—Ç–µ—Ä–Ω: `^99680\d{7}$` (–ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```java
// –ë—ã–ª–æ:
return "99681" + String.format("%07d", suffix);

// –°—Ç–∞–ª–æ:
return "99680" + String.format("%07d", time);
```

**–í–ª–∏—è–Ω–∏–µ**: –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π

---

### BUG-005: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—è userId –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–æ—Å—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `userId`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –±–µ–∑ –ø–æ–ª—è userId
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å POST `/api/admin/profile/create`
3. –ü–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 400 - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ userId

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- Endpoint: `/api/admin/profile/create`
- –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–µ–≤–µ—Ä–Ω–æ–µ):
```json
{
  "msisdn": "996801234567",
  "pricePlanId": 2
  // userId –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```java
protected String json(String phone, int planId, int userId) {
    return String.format(
        "{\"msisdn\":\"%s\",\"pricePlanId\":%d,\"userId\":%d}", 
        phone, planId, userId  // –¥–æ–±–∞–≤–ª–µ–Ω–æ userId
    );
}
```

**–í–ª–∏—è–Ω–∏–µ**: –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π

---

## üü¢ –ù–ò–ó–ö–ò–ï –ë–ê–ì–ò / –£–õ–£–ß–®–ï–ù–ò–Ø

### BUG-006: –î–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ API –≤ –º–µ—Ç–æ–¥–µ getFirstId()
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–ú–µ—Ç–æ–¥ `getFirstId()` –¥–µ–ª–∞–ª –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ: –ø–µ—Ä–≤—ã–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞, –≤—Ç–æ—Ä–æ–π –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID –∏–∑ —Ç–æ–≥–æ –∂–µ –æ—Ç–≤–µ—Ç–∞.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –í—ã–∑–≤–∞—Ç—å `firstId("/api/balance/all")`
2. –ù–∞–±–ª—é–¥–∞—Ç—å –¥–≤–∞ HTTP –∑–∞–ø—Ä–æ—Å–∞ –≤ –ª–æ–≥–∞—Ö

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–û–¥–∏–Ω HTTP –∑–∞–ø—Ä–æ—Å

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–î–≤–∞ HTTP –∑–∞–ø—Ä–æ—Å–∞ –∫ –æ–¥–Ω–æ–º—É endpoint

**–û–∫—Ä—É–∂–µ–Ω–∏–µ**:
- –ú–µ—Ç–æ–¥: `getFirstId()` (—Å—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)

**–°—Ç–∞—Ä—ã–π –∫–æ–¥**:
```java
protected Integer getFirstId(String path) {
    Response response = get(path);  // –ó–∞–ø—Ä–æ—Å 1
    var list = response.jsonPath().getList("content");
    return list.isEmpty() ? null : getInt(get(path), "content[0].id");  // –ó–∞–ø—Ä–æ—Å 2!
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```java
protected Integer firstId(String path) {
    Response response = get(path);  // –ó–∞–ø—Ä–æ—Å 1
    var list = response.jsonPath().getList("content");
    return list.isEmpty() ? null : number(response, "content[0].id");  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ response
}
```

**–í–ª–∏—è–Ω–∏–µ**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤, –ª–∏—à–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API

---

### BUG-007: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π (—á–∏—Ç–∞–µ–º–æ—Å—Ç—å)  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
–ú–µ—Ç–æ–¥—ã –≤ BaseTest –∏–º–µ–ª–∏ –¥–ª–∏–Ω–Ω—ã–µ –Ω–µ–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, —á—Ç–æ —É—Ö—É–¥—à–∞–ª–æ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤.

**–ü—Ä–∏–º–µ—Ä—ã**:
- `assertStatus` ‚Üí `checkStatus` ‚úÖ
- `assertStatusOk` ‚Üí `checkStatusOneOf` ‚úÖ
- `getString` ‚Üí `text` ‚úÖ
- `getInt` ‚Üí `number` ‚úÖ
- `getFirstId` ‚Üí `firstId` ‚úÖ
- `profileJson` ‚Üí `json` ‚úÖ
- `generateMsisdn` ‚Üí `newPhone` ‚úÖ

**–í–ª–∏—è–Ω–∏–µ**: –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å

---

### BUG-008: Endpoint —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 204 –≤–º–µ—Å—Ç–æ 200
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–°—Ç–∞—Ç—É—Å**: üü† WORKAROUND –ü–†–ò–ú–ï–ù–ï–ù  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω**: 3 –Ω–æ—è–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ**:  
DELETE `/api/admin/profile/delete/{id}` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 204 No Content, —Ö–æ—Ç—è –æ–±—ã—á–Ω–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è 200 OK. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è DELETE –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö.

**–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**:
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å DELETE `/api/admin/profile/delete/{id}`
3. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å 204

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 200 –∏–ª–∏ 204 (–æ–±–∞ –≤–∞–ª–∏–¥–Ω—ã –¥–ª—è DELETE)

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
–°—Ç–∞—Ç—É—Å 204 No Content

**Workaround**:
```java
checkStatusOneOf(
    delete("/api/admin/profile/delete/" + createdId), 
    200, 204  // –ü—Ä–∏–Ω–∏–º–∞–µ–º –æ–±–∞ —Å—Ç–∞—Ç—É—Å–∞
);
```

**–í–ª–∏—è–Ω–∏–µ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ REST API

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–≥–æ–≤

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 2 | 1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, 1 workaround |
| üü° –°—Ä–µ–¥–Ω–∏–π | 4 | –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã |
| üü¢ –ù–∏–∑–∫–∏–π | 3 | 2 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, 1 workaround |
| **–í–°–ï–ì–û** | **9** | **7 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, 2 workaround** |

---

## üéØ –ê–Ω–∞–ª–∏–∑ –±–∞–≥–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º

| –ú–æ–¥—É–ª—å | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö | –°—Ä–µ–¥–Ω–∏—Ö | –ù–∏–∑–∫–∏—Ö | –ò—Ç–æ–≥–æ |
|--------|-------------|---------|--------|-------|
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | 1 | 0 | 0 | 1 |
| –ë–∞–ª–∞–Ω—Å—ã | 1 | 1 | 1 | 3 |
| –ü—Ä–æ—Ñ–∏–ª–∏ | 0 | 3 | 1 | 4 |
| –§—Ä–µ–π–º–≤–æ—Ä–∫ | 0 | 0 | 1 | 1 |

---

## üìà –ì—Ä–∞—Ñ–∏–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

```
3 –Ω–æ—è–±—Ä—è 2025:
‚îú‚îÄ‚îÄ BUG-001 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)
‚îú‚îÄ‚îÄ BUG-003 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (—Å—Ä–µ–¥–Ω–∏–π)
‚îú‚îÄ‚îÄ BUG-004 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (—Å—Ä–µ–¥–Ω–∏–π)
‚îú‚îÄ‚îÄ BUG-005 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (—Å—Ä–µ–¥–Ω–∏–π)
‚îú‚îÄ‚îÄ BUG-006 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (–Ω–∏–∑–∫–∏–π)
‚îî‚îÄ‚îÄ BUG-007 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω (–Ω–∏–∑–∫–∏–π)

Workaround –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:
‚îú‚îÄ‚îÄ BUG-002 üü† –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (—Å—Ä–µ–¥–Ω–∏–π)
‚îî‚îÄ‚îÄ BUG-008 üü† –°—Ç–∞—Ç—É—Å 204 –ø—Ä–∏ DELETE (–Ω–∏–∑–∫–∏–π)
```

---

## üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **BUG-002**: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –≤–æ–∑–≤—Ä–∞—Ç–∞ 400 –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É API
   - –£—Ç–æ—á–Ω–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é amount
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
2. –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é MSISDN –≤ —Ç–µ—Å—Ç—ã
3. –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ edge cases –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
4. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (–Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏ —Ç.–¥.)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint
6. –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –æ –±–∞–≥–∞—Ö

---

## üìù Lessons Learned

### –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:
1. ‚úÖ –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é API (api.json) –ø–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ—Å—Ç–æ–≤
2. ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã API –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
4. ‚úÖ –ü—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–≤ –≥–¥–µ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ (200/204 –¥–ª—è DELETE)
5. ‚úÖ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π (MSISDN —Ñ–æ—Ä–º–∞—Ç)

### –£–ª—É—á—à–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä—É—Å—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫–æ –≤—Å–µ–º –º–µ—Ç–æ–¥–∞–º
- –°–æ–∑–¥–∞–Ω QUICKSTART.md –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
- –£–ø—Ä–æ—â–µ–Ω BaseTest –¥–æ –º–∏–Ω–∏–º—É–º–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ Config –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 3 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–°–ª–µ–¥—É—é—â–∞—è —Ä–µ–≤–∏–∑–∏—è**: –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è BUG-002
